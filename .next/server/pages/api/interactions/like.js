"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/interactions/like";
exports.ids = ["pages/api/interactions/like"];
exports.modules = {

/***/ "next/dist/compiled/next-server/pages-api.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages-api.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/pages-api.runtime.dev.js");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("fs");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("path");

/***/ }),

/***/ "(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Finteractions%2Flike&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cinteractions%5Clike.js&middlewareConfigBase64=e30%3D!":
/*!********************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Finteractions%2Flike&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cinteractions%5Clike.js&middlewareConfigBase64=e30%3D! ***!
  \********************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   routeModule: () => (/* binding */ routeModule)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/pages-api/module.compiled */ \"(api)/./node_modules/next/dist/server/future/route-modules/pages-api/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(api)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(api)/./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var _pages_api_interactions_like_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./pages\\api\\interactions\\like.js */ \"(api)/./pages/api/interactions/like.js\");\n\n\n\n// Import the userland code.\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_interactions_like_js__WEBPACK_IMPORTED_MODULE_3__, \"default\"));\n// Re-export config.\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_interactions_like_js__WEBPACK_IMPORTED_MODULE_3__, \"config\");\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: \"/api/interactions/like\",\n        pathname: \"/api/interactions/like\",\n        // The following aren't used in production.\n        bundlePath: \"\",\n        filename: \"\"\n    },\n    userland: _pages_api_interactions_like_js__WEBPACK_IMPORTED_MODULE_3__\n});\n\n//# sourceMappingURL=pages-api.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LXJvdXRlLWxvYWRlci9pbmRleC5qcz9raW5kPVBBR0VTX0FQSSZwYWdlPSUyRmFwaSUyRmludGVyYWN0aW9ucyUyRmxpa2UmcHJlZmVycmVkUmVnaW9uPSZhYnNvbHV0ZVBhZ2VQYXRoPS4lMkZwYWdlcyU1Q2FwaSU1Q2ludGVyYWN0aW9ucyU1Q2xpa2UuanMmbWlkZGxld2FyZUNvbmZpZ0Jhc2U2ND1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQXNHO0FBQ3ZDO0FBQ0w7QUFDMUQ7QUFDZ0U7QUFDaEU7QUFDQSxpRUFBZSx3RUFBSyxDQUFDLDREQUFRLFlBQVksRUFBQztBQUMxQztBQUNPLGVBQWUsd0VBQUssQ0FBQyw0REFBUTtBQUNwQztBQUNPLHdCQUF3QixnSEFBbUI7QUFDbEQ7QUFDQSxjQUFjLHlFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsWUFBWTtBQUNaLENBQUM7O0FBRUQiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wZXJzb25hbC1ibG9nLz83ZmJhIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFBhZ2VzQVBJUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUtbW9kdWxlcy9wYWdlcy1hcGkvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUta2luZFwiO1xuaW1wb3J0IHsgaG9pc3QgfSBmcm9tIFwibmV4dC9kaXN0L2J1aWxkL3RlbXBsYXRlcy9oZWxwZXJzXCI7XG4vLyBJbXBvcnQgdGhlIHVzZXJsYW5kIGNvZGUuXG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiLi9wYWdlc1xcXFxhcGlcXFxcaW50ZXJhY3Rpb25zXFxcXGxpa2UuanNcIjtcbi8vIFJlLWV4cG9ydCB0aGUgaGFuZGxlciAoc2hvdWxkIGJlIHRoZSBkZWZhdWx0IGV4cG9ydCkuXG5leHBvcnQgZGVmYXVsdCBob2lzdCh1c2VybGFuZCwgXCJkZWZhdWx0XCIpO1xuLy8gUmUtZXhwb3J0IGNvbmZpZy5cbmV4cG9ydCBjb25zdCBjb25maWcgPSBob2lzdCh1c2VybGFuZCwgXCJjb25maWdcIik7XG4vLyBDcmVhdGUgYW5kIGV4cG9ydCB0aGUgcm91dGUgbW9kdWxlIHRoYXQgd2lsbCBiZSBjb25zdW1lZC5cbmV4cG9ydCBjb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBQYWdlc0FQSVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5QQUdFU19BUEksXG4gICAgICAgIHBhZ2U6IFwiL2FwaS9pbnRlcmFjdGlvbnMvbGlrZVwiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL2ludGVyYWN0aW9ucy9saWtlXCIsXG4gICAgICAgIC8vIFRoZSBmb2xsb3dpbmcgYXJlbid0IHVzZWQgaW4gcHJvZHVjdGlvbi5cbiAgICAgICAgYnVuZGxlUGF0aDogXCJcIixcbiAgICAgICAgZmlsZW5hbWU6IFwiXCJcbiAgICB9LFxuICAgIHVzZXJsYW5kXG59KTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cGFnZXMtYXBpLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Finteractions%2Flike&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cinteractions%5Clike.js&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(api)/./pages/api/interactions/like.js":
/*!****************************************!*\
  !*** ./pages/api/interactions/like.js ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! fs */ \"fs\");\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(fs__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! path */ \"path\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_1__);\n\n\nconst INTERACTIONS_FILE = path__WEBPACK_IMPORTED_MODULE_1___default().join(process.cwd(), \"data\", \"interactions.json\");\n// 确保配置目录存在\nfunction ensureConfigDir() {\n    const dataDir = path__WEBPACK_IMPORTED_MODULE_1___default().join(process.cwd(), \"data\");\n    if (!fs__WEBPACK_IMPORTED_MODULE_0___default().existsSync(dataDir)) {\n        fs__WEBPACK_IMPORTED_MODULE_0___default().mkdirSync(dataDir, {\n            recursive: true\n        });\n    }\n}\n// 获取用户互动数据\nfunction getUserInteractions() {\n    ensureConfigDir();\n    if (!fs__WEBPACK_IMPORTED_MODULE_0___default().existsSync(INTERACTIONS_FILE)) {\n        // 默认互动数据\n        const defaultInteractions = {\n            like: [],\n            favorite: []\n        };\n        fs__WEBPACK_IMPORTED_MODULE_0___default().writeFileSync(INTERACTIONS_FILE, JSON.stringify(defaultInteractions, null, 2));\n        return defaultInteractions;\n    }\n    try {\n        const interactionsData = fs__WEBPACK_IMPORTED_MODULE_0___default().readFileSync(INTERACTIONS_FILE, \"utf8\");\n        const interactions = JSON.parse(interactionsData);\n        // 确保like和favorite数组存在\n        if (!interactions.like) interactions.like = [];\n        if (!interactions.favorite) interactions.favorite = [];\n        return interactions;\n    } catch (error) {\n        console.error(\"读取互动数据时出错:\", error);\n        return {\n            like: [],\n            favorite: []\n        };\n    }\n}\n// 更新互动数据\nfunction updateInteractions(interactions) {\n    ensureConfigDir();\n    try {\n        // 确保like和favorite数组存在\n        if (!interactions.like) interactions.like = [];\n        if (!interactions.favorite) interactions.favorite = [];\n        fs__WEBPACK_IMPORTED_MODULE_0___default().writeFileSync(INTERACTIONS_FILE, JSON.stringify(interactions, null, 2));\n        return true;\n    } catch (error) {\n        console.error(\"更新互动数据时出错:\", error);\n        return false;\n    }\n}\nfunction handler(req, res) {\n    // 获取点赞列表\n    if (req.method === \"GET\") {\n        const interactions = getUserInteractions();\n        res.status(200).json({\n            like: interactions.like || []\n        });\n    } else if (req.method === \"POST\") {\n        const { slug } = req.body;\n        if (!slug) {\n            return res.status(400).json({\n                error: \"缺少必要参数\"\n            });\n        }\n        const interactions = getUserInteractions();\n        // 确保like数组存在\n        if (!interactions.like) interactions.like = [];\n        // 检查是否已经点赞\n        if (!interactions.like.includes(slug)) {\n            interactions.like.push(slug);\n            if (updateInteractions(interactions)) {\n                res.status(200).json({\n                    success: true,\n                    message: \"点赞成功\"\n                });\n            } else {\n                res.status(500).json({\n                    error: \"更新点赞状态失败\"\n                });\n            }\n        } else {\n            res.status(200).json({\n                success: true,\n                message: \"已经点赞过了\"\n            });\n        }\n    } else if (req.method === \"DELETE\") {\n        const { slug } = req.body;\n        if (!slug) {\n            return res.status(400).json({\n                error: \"缺少必要参数\"\n            });\n        }\n        const interactions = getUserInteractions();\n        // 确保like数组存在\n        if (!interactions.like) interactions.like = [];\n        const index = interactions.like.indexOf(slug);\n        if (index !== -1) {\n            interactions.like.splice(index, 1);\n            if (updateInteractions(interactions)) {\n                res.status(200).json({\n                    success: true,\n                    message: \"取消点赞成功\"\n                });\n            } else {\n                res.status(500).json({\n                    error: \"更新点赞状态失败\"\n                });\n            }\n        } else {\n            res.status(200).json({\n                success: true,\n                message: \"未找到点赞记录\"\n            });\n        }\n    } else {\n        res.setHeader(\"Allow\", [\n            \"GET\",\n            \"POST\",\n            \"DELETE\"\n        ]);\n        res.status(405).end(`Method ${req.method} Not Allowed`);\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Oi8vcGVyc29uYWwtYmxvZy8uL3BhZ2VzL2FwaS9pbnRlcmFjdGlvbnMvbGlrZS5qcz84MWNmIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBmcyBmcm9tICdmcyc7XHJcbmltcG9ydCBwYXRoIGZyb20gJ3BhdGgnO1xyXG5cclxuY29uc3QgSU5URVJBQ1RJT05TX0ZJTEUgPSBwYXRoLmpvaW4ocHJvY2Vzcy5jd2QoKSwgJ2RhdGEnLCAnaW50ZXJhY3Rpb25zLmpzb24nKTtcclxuXHJcbi8vIOehruS/nemFjee9ruebruW9leWtmOWcqFxyXG5mdW5jdGlvbiBlbnN1cmVDb25maWdEaXIoKSB7XHJcbiAgY29uc3QgZGF0YURpciA9IHBhdGguam9pbihwcm9jZXNzLmN3ZCgpLCAnZGF0YScpO1xyXG4gIGlmICghZnMuZXhpc3RzU3luYyhkYXRhRGlyKSkge1xyXG4gICAgZnMubWtkaXJTeW5jKGRhdGFEaXIsIHsgcmVjdXJzaXZlOiB0cnVlIH0pO1xyXG4gIH1cclxufVxyXG5cclxuLy8g6I635Y+W55So5oi35LqS5Yqo5pWw5o2uXHJcbmZ1bmN0aW9uIGdldFVzZXJJbnRlcmFjdGlvbnMoKSB7XHJcbiAgZW5zdXJlQ29uZmlnRGlyKCk7XHJcbiAgXHJcbiAgaWYgKCFmcy5leGlzdHNTeW5jKElOVEVSQUNUSU9OU19GSUxFKSkge1xyXG4gICAgLy8g6buY6K6k5LqS5Yqo5pWw5o2uXHJcbiAgICBjb25zdCBkZWZhdWx0SW50ZXJhY3Rpb25zID0ge1xyXG4gICAgICBsaWtlOiBbXSxcclxuICAgICAgZmF2b3JpdGU6IFtdXHJcbiAgICB9O1xyXG4gICAgXHJcbiAgICBmcy53cml0ZUZpbGVTeW5jKElOVEVSQUNUSU9OU19GSUxFLCBKU09OLnN0cmluZ2lmeShkZWZhdWx0SW50ZXJhY3Rpb25zLCBudWxsLCAyKSk7XHJcbiAgICByZXR1cm4gZGVmYXVsdEludGVyYWN0aW9ucztcclxuICB9XHJcbiAgXHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IGludGVyYWN0aW9uc0RhdGEgPSBmcy5yZWFkRmlsZVN5bmMoSU5URVJBQ1RJT05TX0ZJTEUsICd1dGY4Jyk7XHJcbiAgICBjb25zdCBpbnRlcmFjdGlvbnMgPSBKU09OLnBhcnNlKGludGVyYWN0aW9uc0RhdGEpO1xyXG4gICAgXHJcbiAgICAvLyDnoa7kv51saWtl5ZKMZmF2b3JpdGXmlbDnu4TlrZjlnKhcclxuICAgIGlmICghaW50ZXJhY3Rpb25zLmxpa2UpIGludGVyYWN0aW9ucy5saWtlID0gW107XHJcbiAgICBpZiAoIWludGVyYWN0aW9ucy5mYXZvcml0ZSkgaW50ZXJhY3Rpb25zLmZhdm9yaXRlID0gW107XHJcbiAgICBcclxuICAgIHJldHVybiBpbnRlcmFjdGlvbnM7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ+ivu+WPluS6kuWKqOaVsOaNruaXtuWHuumUmTonLCBlcnJvcik7XHJcbiAgICByZXR1cm4geyBsaWtlOiBbXSwgZmF2b3JpdGU6IFtdIH07XHJcbiAgfVxyXG59XHJcblxyXG4vLyDmm7TmlrDkupLliqjmlbDmja5cclxuZnVuY3Rpb24gdXBkYXRlSW50ZXJhY3Rpb25zKGludGVyYWN0aW9ucykge1xyXG4gIGVuc3VyZUNvbmZpZ0RpcigpO1xyXG4gIFxyXG4gIHRyeSB7XHJcbiAgICAvLyDnoa7kv51saWtl5ZKMZmF2b3JpdGXmlbDnu4TlrZjlnKhcclxuICAgIGlmICghaW50ZXJhY3Rpb25zLmxpa2UpIGludGVyYWN0aW9ucy5saWtlID0gW107XHJcbiAgICBpZiAoIWludGVyYWN0aW9ucy5mYXZvcml0ZSkgaW50ZXJhY3Rpb25zLmZhdm9yaXRlID0gW107XHJcbiAgICBcclxuICAgIGZzLndyaXRlRmlsZVN5bmMoSU5URVJBQ1RJT05TX0ZJTEUsIEpTT04uc3RyaW5naWZ5KGludGVyYWN0aW9ucywgbnVsbCwgMikpO1xyXG4gICAgcmV0dXJuIHRydWU7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ+abtOaWsOS6kuWKqOaVsOaNruaXtuWHuumUmTonLCBlcnJvcik7XHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBoYW5kbGVyKHJlcSwgcmVzKSB7XHJcbiAgLy8g6I635Y+W54K56LWe5YiX6KGoXHJcbiAgaWYgKHJlcS5tZXRob2QgPT09ICdHRVQnKSB7XHJcbiAgICBjb25zdCBpbnRlcmFjdGlvbnMgPSBnZXRVc2VySW50ZXJhY3Rpb25zKCk7XHJcbiAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7IGxpa2U6IGludGVyYWN0aW9ucy5saWtlIHx8IFtdIH0pO1xyXG4gIH0gXHJcbiAgLy8g5re75Yqg54K56LWeXHJcbiAgZWxzZSBpZiAocmVxLm1ldGhvZCA9PT0gJ1BPU1QnKSB7XHJcbiAgICBjb25zdCB7IHNsdWcgfSA9IHJlcS5ib2R5O1xyXG4gICAgXHJcbiAgICBpZiAoIXNsdWcpIHtcclxuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgZXJyb3I6ICfnvLrlsJHlv4XopoHlj4LmlbAnIH0pO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBjb25zdCBpbnRlcmFjdGlvbnMgPSBnZXRVc2VySW50ZXJhY3Rpb25zKCk7XHJcbiAgICBcclxuICAgIC8vIOehruS/nWxpa2XmlbDnu4TlrZjlnKhcclxuICAgIGlmICghaW50ZXJhY3Rpb25zLmxpa2UpIGludGVyYWN0aW9ucy5saWtlID0gW107XHJcbiAgICBcclxuICAgIC8vIOajgOafpeaYr+WQpuW3sue7j+eCuei1nlxyXG4gICAgaWYgKCFpbnRlcmFjdGlvbnMubGlrZS5pbmNsdWRlcyhzbHVnKSkge1xyXG4gICAgICBpbnRlcmFjdGlvbnMubGlrZS5wdXNoKHNsdWcpO1xyXG4gICAgICBcclxuICAgICAgaWYgKHVwZGF0ZUludGVyYWN0aW9ucyhpbnRlcmFjdGlvbnMpKSB7XHJcbiAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oeyBzdWNjZXNzOiB0cnVlLCBtZXNzYWdlOiAn54K56LWe5oiQ5YqfJyB9KTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7IGVycm9yOiAn5pu05paw54K56LWe54q25oCB5aSx6LSlJyB9KTtcclxuICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oeyBzdWNjZXNzOiB0cnVlLCBtZXNzYWdlOiAn5bey57uP54K56LWe6L+H5LqGJyB9KTtcclxuICAgIH1cclxuICB9IFxyXG4gIC8vIOWPlua2iOeCuei1nlxyXG4gIGVsc2UgaWYgKHJlcS5tZXRob2QgPT09ICdERUxFVEUnKSB7XHJcbiAgICBjb25zdCB7IHNsdWcgfSA9IHJlcS5ib2R5O1xyXG4gICAgXHJcbiAgICBpZiAoIXNsdWcpIHtcclxuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgZXJyb3I6ICfnvLrlsJHlv4XopoHlj4LmlbAnIH0pO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBjb25zdCBpbnRlcmFjdGlvbnMgPSBnZXRVc2VySW50ZXJhY3Rpb25zKCk7XHJcbiAgICBcclxuICAgIC8vIOehruS/nWxpa2XmlbDnu4TlrZjlnKhcclxuICAgIGlmICghaW50ZXJhY3Rpb25zLmxpa2UpIGludGVyYWN0aW9ucy5saWtlID0gW107XHJcbiAgICBcclxuICAgIGNvbnN0IGluZGV4ID0gaW50ZXJhY3Rpb25zLmxpa2UuaW5kZXhPZihzbHVnKTtcclxuICAgIFxyXG4gICAgaWYgKGluZGV4ICE9PSAtMSkge1xyXG4gICAgICBpbnRlcmFjdGlvbnMubGlrZS5zcGxpY2UoaW5kZXgsIDEpO1xyXG4gICAgICBcclxuICAgICAgaWYgKHVwZGF0ZUludGVyYWN0aW9ucyhpbnRlcmFjdGlvbnMpKSB7XHJcbiAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oeyBzdWNjZXNzOiB0cnVlLCBtZXNzYWdlOiAn5Y+W5raI54K56LWe5oiQ5YqfJyB9KTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7IGVycm9yOiAn5pu05paw54K56LWe54q25oCB5aSx6LSlJyB9KTtcclxuICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oeyBzdWNjZXNzOiB0cnVlLCBtZXNzYWdlOiAn5pyq5om+5Yiw54K56LWe6K6w5b2VJyB9KTtcclxuICAgIH1cclxuICB9IGVsc2Uge1xyXG4gICAgcmVzLnNldEhlYWRlcignQWxsb3cnLCBbJ0dFVCcsICdQT1NUJywgJ0RFTEVURSddKTtcclxuICAgIHJlcy5zdGF0dXMoNDA1KS5lbmQoYE1ldGhvZCAke3JlcS5tZXRob2R9IE5vdCBBbGxvd2VkYCk7XHJcbiAgfVxyXG59ICJdLCJuYW1lcyI6WyJmcyIsInBhdGgiLCJJTlRFUkFDVElPTlNfRklMRSIsImpvaW4iLCJwcm9jZXNzIiwiY3dkIiwiZW5zdXJlQ29uZmlnRGlyIiwiZGF0YURpciIsImV4aXN0c1N5bmMiLCJta2RpclN5bmMiLCJyZWN1cnNpdmUiLCJnZXRVc2VySW50ZXJhY3Rpb25zIiwiZGVmYXVsdEludGVyYWN0aW9ucyIsImxpa2UiLCJmYXZvcml0ZSIsIndyaXRlRmlsZVN5bmMiLCJKU09OIiwic3RyaW5naWZ5IiwiaW50ZXJhY3Rpb25zRGF0YSIsInJlYWRGaWxlU3luYyIsImludGVyYWN0aW9ucyIsInBhcnNlIiwiZXJyb3IiLCJjb25zb2xlIiwidXBkYXRlSW50ZXJhY3Rpb25zIiwiaGFuZGxlciIsInJlcSIsInJlcyIsIm1ldGhvZCIsInN0YXR1cyIsImpzb24iLCJzbHVnIiwiYm9keSIsImluY2x1ZGVzIiwicHVzaCIsInN1Y2Nlc3MiLCJtZXNzYWdlIiwiaW5kZXgiLCJpbmRleE9mIiwic3BsaWNlIiwic2V0SGVhZGVyIiwiZW5kIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./pages/api/interactions/like.js\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Finteractions%2Flike&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cinteractions%5Clike.js&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();